---
title: 闭包
---

# 闭包

## 定义

- 闭包是一个可以访问外部作用域的内部函数，即使这个外部作用域已经执行结束。
- 定义在A方法内部的方法，可以访问定义在这个A方法内部的变量
- 闭包函数就是可以访问到上级作用域内变量的内部函数。

## 作用域链

一般情况下，变量取值到创建这个变量的函数的作用域中取值。

但是如果在当前作用域中没有查到值，就会向上级作用域去查，直到查到全局作用域，这么一个查找过程形成的链条就叫做作用域链。

## 为什么闭包函数能够让局部变量的值始终保持在内存中

因为JS的垃圾回收机制只会回收不可访问的对象。

而闭包函数只要还被引用，绑定在作用域链上的对象就会因为闭包的关系不会被当做垃圾回收。
这也就是闭包能够让局部变量的值始终保持在内存中的原因。

## 闭包函数什么时候释放内存

当闭包函数不被引用时，就会释放内存，即将该函数设为 null 时。
